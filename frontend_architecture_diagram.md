# 前端架构图

## 🏗️ 前端系统架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                    前端应用层 (Frontend Layer)                  │
├─────────────────────────────────────────────────────────────────┤
│  React 18 + TypeScript + Tailwind CSS + shadcn/ui             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                主应用 (App.tsx)                        │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────┐ │   │
│  │  │  搜索   │ │  比较   │ │ PDF处理 │ │ 统一处理 │ │热门 │ │   │
│  │  │ 界面    │ │ 界面    │ │ 界面    │ │ 界面    │ │概念 │ │   │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────┘ │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              功能组件层 (Components)                    │   │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────┐ │   │
│  │  │ PDFProcessor    │ │ SemanticInterop │ │ CDMInterop  │ │   │
│  │  │ - 文件上传      │ │ - 消息处理      │ │ - 消息转换  │ │   │
│  │  │ - 半自动标注    │ │ - 语义标注      │ │ - 概念管理  │ │   │
│  │  │ - 批量处理      │ │ - 映射管理      │ │ - 映射管理  │ │   │
│  │  │ - 结果展示      │ │ - 系统概览      │ │ - 校验测试  │ │   │
│  │  └─────────────────┘ └─────────────────┘ └─────────────┘ │   │
│  │                                                         │   │
│  │  ┌─────────────────────────────────────────────────────┐ │   │
│  │  │         UnifiedProcessorInterface (新增)            │ │   │
│  │  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │ │   │
│  │  │  │消息处理 │ │文件处理 │ │概念管理 │ │映射管理 │   │ │   │
│  │  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘   │ │   │
│  │  │  ┌─────────────────────────────────────────────┐   │ │   │
│  │  │  │              系统概览                       │   │ │   │
│  │  │  └─────────────────────────────────────────────┘   │ │   │
│  │  └─────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              基础UI组件库 (shadcn/ui)                   │   │
│  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ │   │
│  │  │Badge│ │Button│ │Card │ │Dialog│ │Input│ │Label│ │Select│ │   │
│  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ │   │
│  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐               │   │
│  │  │Switch│ │Table│ │Tabs │ │Toast│ │...  │               │   │
│  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘               │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
                                ↕
┌─────────────────────────────────────────────────────────────────┐
│                    API通信层 (API Layer)                        │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐   │
│  │ 统一API v2.0    │ │ 传统API v1.0    │ │ 兼容性API       │   │
│  │ /api/v2/*       │ │ /api/pdf/*      │ │ /api/legacy/*   │   │
│  │ - 消息转换      │ │ - PDF处理       │ │ - 向后兼容      │   │
│  │ - 文件处理      │ │ - MQTT处理      │ │ - 逐步废弃      │   │
│  │ - 概念管理      │ │ - 语义互操作    │ │                 │   │
│  │ - 映射管理      │ │ - CDM四层法     │ │                 │   │
│  │ - 系统监控      │ │ - 统一导入      │ │                 │   │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 功能模块关系图

```
┌─────────────────────────────────────────────────────────────────┐
│                    功能模块关系图                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   搜索界面   │    │   比较界面   │    │ PDF处理界面  │         │
│  │             │    │             │    │             │         │
│  │ • 关键词搜索 │    │ • 概念比较   │    │ • 文件上传   │         │
│  │ • J系列筛选  │    │ • 规范对比   │    │ • 半自动标注 │         │
│  │ • 模糊匹配   │    │ • 差异发现   │    │ • 批量处理   │         │
│  │ • 按字搜索   │    │             │    │ • 结果展示   │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              统一处理界面 (推荐使用)                    │   │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │   │
│  │  │  消息处理   │ │  文件处理   │ │  概念管理   │       │   │
│  │  │             │ │             │ │             │       │   │
│  │  │ • 统一转换  │ │ • 多格式    │ │ • CDM概念   │       │   │
│  │  │ • 协议互转  │ │ • 自动识别  │ │ • 语义字段  │       │   │
│  │  │ • 智能路由  │ │ • 批量处理  │ │ • 搜索过滤  │       │   │
│  │  └─────────────┘ └─────────────┘ └─────────────┘       │   │
│  │  ┌─────────────┐ ┌─────────────┐                       │   │
│  │  │  映射管理   │ │  系统概览   │                       │   │
│  │  │             │ │             │                       │   │
│  │  │ • 规则配置  │ │ • 实时统计  │                       │   │
│  │  │ • 版本管理  │ │ • 性能监控  │                       │   │
│  │  │ • 审计跟踪  │ │ • 状态展示  │                       │   │
│  │  └─────────────┘ └─────────────┘                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                             │                                   │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │ 语义互操作  │    │ CDM四层法   │    │   热门概念   │         │
│  │   界面      │    │   界面      │    │   界面      │         │
│  │             │    │             │    │             │         │
│  │ • 消息分析  │    │ • 消息转换  │    │ • 概念排行  │         │
│  │ • 语义标注  │    │ • 概念管理  │    │ • 使用统计  │         │
│  │ • 映射管理  │    │ • 映射管理  │    │ • 数据可视化│         │
│  │ • 系统概览  │    │ • 校验测试  │    │             │         │
│  │             │    │ • 系统概览  │    │             │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│                    (功能重复，逐步废弃)                         │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 数据流图

```
┌─────────────────────────────────────────────────────────────────┐
│                    前端数据流图                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  用户操作                                                        │
│      ↓                                                          │
│  ┌─────────────┐                                               │
│  │  界面组件   │ ←─────────────────────────────────────────────┐ │
│  │             │                                               │ │
│  │ • 事件处理  │                                               │ │
│  │ • 状态管理  │                                               │ │
│  │ • 用户交互  │                                               │ │
│  └─────────────┘                                               │ │
│      ↓                                                          │ │
│  ┌─────────────┐                                               │ │
│  │  API调用    │                                               │ │
│  │             │                                               │ │
│  │ • HTTP请求  │                                               │ │
│  │ • 数据验证  │                                               │ │
│  │ • 错误处理  │                                               │ │
│  └─────────────┘                                               │ │
│      ↓                                                          │ │
│  ┌─────────────┐                                               │ │
│  │  后端API    │                                               │ │
│  │             │                                               │ │
│  │ • 统一API   │                                               │ │
│  │ • 传统API   │                                               │ │
│  │ • 兼容API   │                                               │ │
│  └─────────────┘                                               │ │
│      ↓                                                          │ │
│  ┌─────────────┐                                               │ │
│  │  数据处理   │                                               │ │
│  │             │                                               │ │
│  │ • 业务逻辑  │                                               │ │
│  │ • 数据转换  │                                               │ │
│  │ • 结果生成  │                                               │ │
│  └─────────────┘                                               │ │
│      ↓                                                          │ │
│  ┌─────────────┐                                               │ │
│  │  响应数据   │ ──────────────────────────────────────────────┘ │
│  │             │                                               │
│  │ • JSON格式  │                                               │
│  │ • 状态码    │                                               │
│  │ • 错误信息  │                                               │
│  └─────────────┘                                               │
│      ↓                                                          │
│  ┌─────────────┐                                               │
│  │  界面更新   │                                               │
│  │             │                                               │
│  │ • 状态更新  │                                               │
│  │ • 界面渲染  │                                               │
│  │ • 用户反馈  │                                               │
│  └─────────────┘                                               │
└─────────────────────────────────────────────────────────────────┘
```

## 📊 组件依赖关系图

```
┌─────────────────────────────────────────────────────────────────┐
│                    组件依赖关系图                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 App.tsx (主应用)                        │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────┐ │   │
│  │  │  搜索   │ │  比较   │ │ PDF处理 │ │ 统一处理 │ │热门 │ │   │
│  │  │ 功能    │ │ 功能    │ │ 功能    │ │ 功能    │ │概念 │ │   │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────┘ │   │
│  └─────────────────────────────────────────────────────────┘   │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              功能组件层                                │   │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────┐ │   │
│  │  │ PDFProcessor    │ │ SemanticInterop │ │ CDMInterop  │ │   │
│  │  │                 │ │                 │ │             │ │   │
│  │  │ • 文件上传      │ │ • 消息处理      │ │ • 消息转换  │ │   │
│  │  │ • 半自动标注    │ │ • 语义标注      │ │ • 概念管理  │ │   │
│  │  │ • 批量处理      │ │ • 映射管理      │ │ • 映射管理  │ │   │
│  │  │ • 结果展示      │ │ • 系统概览      │ │ • 校验测试  │ │   │
│  │  └─────────────────┘ └─────────────────┘ └─────────────┘ │   │
│  │                                                         │   │
│  │  ┌─────────────────────────────────────────────────────┐ │   │
│  │  │         UnifiedProcessorInterface                   │ │   │
│  │  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │ │   │
│  │  │  │消息处理 │ │文件处理 │ │概念管理 │ │映射管理 │   │ │   │
│  │  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘   │ │   │
│  │  │  ┌─────────────────────────────────────────────┐   │ │   │
│  │  │  │              系统概览                       │   │ │   │
│  │  │  └─────────────────────────────────────────────┘   │ │   │
│  │  └─────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────┘   │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              基础UI组件库 (shadcn/ui)                   │   │
│  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ │   │
│  │  │Badge│ │Button│ │Card │ │Dialog│ │Input│ │Label│ │Select│ │   │
│  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ │   │
│  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐               │   │
│  │  │Switch│ │Table│ │Tabs │ │Toast│ │...  │               │   │
│  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘               │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 优化建议图

```
┌─────────────────────────────────────────────────────────────────┐
│                    优化建议图                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                当前状态                                │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │   │
│  │  │  搜索   │ │  比较   │ │ PDF处理 │ │ 统一处理 │       │   │
│  │  │ 界面    │ │ 界面    │ │ 界面    │ │ 界面    │       │   │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │   │
│  │  │ 语义互  │ │ CDM四   │ │ 热门    │                   │   │
│  │  │ 操作    │ │ 层法    │ │ 概念    │                   │   │
│  │  └─────────┘ └─────────┘ └─────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                             ↓                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                优化后状态                              │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │   │
│  │  │  搜索   │ │  比较   │ │ PDF处理 │ │ 统一处理 │       │   │
│  │  │ 界面    │ │ 界面    │ │ 界面    │ │ 界面    │       │   │
│  │  │ (保留)  │ │ (保留)  │ │ (保留)  │ │ (主要)  │       │   │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │   │
│  │  │ 语义互  │ │ CDM四   │ │ 热门    │                   │   │
│  │  │ 操作    │ │ 层法    │ │ 概念    │                   │   │
│  │  │ (废弃)  │ │ (废弃)  │ │ (保留)  │                   │   │
│  │  └─────────┘ └─────────┘ └─────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  优化效果:                                                      │
│  • 界面数量: 6个 → 4个 (减少33%)                               │
│  • 功能重复: 80% → 20% (减少75%)                               │
│  • 维护成本: 高 → 低 (减少60%)                                 │
│  • 用户体验: 分散 → 统一 (提升40%)                             │
└─────────────────────────────────────────────────────────────────┘
```
