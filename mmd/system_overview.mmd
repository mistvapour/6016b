graph TB
    %% 6016-app 系统概览图
    
    subgraph "用户界面层 - 第3章"
        USER["用户<br/>📖 3.2.4"]
        WEB_UI["Web界面<br/>React + TypeScript<br/>端口: 5173<br/>📖 5.1.2"]
    end
    
    subgraph "核心功能模块 - 第4章"
        PDF_PROCESSING["PDF处理模块<br/>MIL-STD-6016标准<br/>MQTT协议<br/>📖 4.3.2(1)"]
        MQTT_PROCESSING["MQTT处理模块<br/>消息协议转换<br/>数据标准化<br/>📖 4.3.2(2)"]
        UNIVERSAL_IMPORT["统一导入模块<br/>多格式支持<br/>智能路由<br/>📖 4.3.2(4)"]
        CDM_SYSTEM["CDM系统<br/>概念数据模型<br/>语义互操作<br/>📖 4.3.2(3)"]
        SEMANTIC_INTEROP["语义互操作<br/>跨协议转换<br/>数据映射<br/>📖 4.3.2(2)"]
    end
    
    subgraph "数据处理流水线 - 第5章"
        INPUT["多格式输入<br/>PDF/XML/JSON/CSV<br/>📖 5.2.5"]
        DETECTION["智能检测<br/>格式识别<br/>标准识别<br/>📖 5.2.2"]
        PROCESSING["专用处理<br/>格式转换<br/>数据提取<br/>📖 5.2.2"]
        VALIDATION["数据验证<br/>质量检查<br/>错误处理<br/>📖 5.2.3"]
        OUTPUT["统一输出<br/>YAML格式<br/>SIM模型<br/>📖 5.2.4"]
    end
    
    subgraph "数据存储层 - 第4章"
        PDF_DB[("PDF服务数据库<br/>pdf_service<br/>任务状态<br/>📖 4.2.4")]
        SEMANTIC_DB[("语义服务数据库<br/>semantic_service<br/>映射规则<br/>📖 4.2.4")]
        CDM_DB[("CDM服务数据库<br/>cdm_service<br/>概念模型<br/>📖 4.2.3")]
        IMPORT_DB[("导入服务数据库<br/>import_service<br/>导入记录<br/>📖 4.2.4")]
        USER_DB[("用户服务数据库<br/>user_service<br/>用户信息<br/>📖 4.3.2(5)")]
        CONFIG_DB[("配置服务数据库<br/>config_service<br/>配置信息<br/>📖 4.3.2(5)")]
        MONITOR_DB[("监控服务数据库<br/>monitor_service<br/>监控数据<br/>📖 5.3.2")]
        FILES["文件存储<br/>原始文件<br/>处理结果<br/>📖 5.1.3"]
        REDIS_CACHE[("Redis缓存<br/>多DB实例<br/>会话/临时数据<br/>📖 4.5.1")]
    end
    
    subgraph "部署和监控 - 第5章"
        DEPLOYMENT["容器化部署<br/>Docker + K8s<br/>微服务架构<br/>📖 5.3.1"]
        MONITORING["监控系统<br/>Prometheus<br/>Grafana<br/>📖 5.3.2"]
        LOGGING["日志系统<br/>ELK Stack<br/>审计追踪<br/>📖 5.4.3"]
    end
    
    %% 主要连接关系
    USER --> WEB_UI
    WEB_UI --> PDF_PROCESSING
    WEB_UI --> MQTT_PROCESSING
    WEB_UI --> UNIVERSAL_IMPORT
    WEB_UI --> CDM_SYSTEM
    WEB_UI --> SEMANTIC_INTEROP
    
    PDF_PROCESSING --> INPUT
    MQTT_PROCESSING --> INPUT
    UNIVERSAL_IMPORT --> INPUT
    CDM_SYSTEM --> INPUT
    SEMANTIC_INTEROP --> INPUT
    
    INPUT --> DETECTION
    DETECTION --> PROCESSING
    PROCESSING --> VALIDATION
    VALIDATION --> OUTPUT
    
    OUTPUT --> PDF_DB
    OUTPUT --> SEMANTIC_DB
    OUTPUT --> CDM_DB
    OUTPUT --> IMPORT_DB
    OUTPUT --> FILES
    PROCESSING --> REDIS_CACHE
    
    DEPLOYMENT --> MONITORING
    MONITORING --> LOGGING
    
    %% 反馈循环
    VALIDATION -.-> DETECTION
    PDF_DB -.-> PROCESSING
    SEMANTIC_DB -.-> PROCESSING
    
    %% 样式定义
    classDef user fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef ui fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef module fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef pipeline fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef storage fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef infra fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    class USER user
    class WEB_UI ui
    class PDF_PROCESSING,MQTT_PROCESSING,UNIVERSAL_IMPORT,CDM_SYSTEM,SEMANTIC_INTEROP module
    class INPUT,DETECTION,PROCESSING,VALIDATION,OUTPUT pipeline
    class PDF_DB,SEMANTIC_DB,CDM_DB,IMPORT_DB,USER_DB,CONFIG_DB,MONITOR_DB,FILES,REDIS_CACHE storage
    class DEPLOYMENT,MONITORING,LOGGING infra
